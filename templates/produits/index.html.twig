{% extends 'layout/base.html.twig' %}

{% block body %}

    <h1>Produits:</h1>

    {% if message is defined %}
    <h3>{{ message }}</h3>

    {% endif %}

    <table border="1">

        <tr>

            <th>Product Name</th>

            <th>Description</th>

            <th>Pays</th>

            <th>Price</th>

            {% if forms is defined %}

                <th>Nombre</th>
                <th>Ajouter</th>

            {% endif %}

        </tr>

        {% set i = 0 %}

        {% for produit in products %}

            <tr>

                <td>{{ produit.name }}</td>
                <td>{{ produit.description }}</td>
                <td>
                    <ul>
                        {% for pays in produit.pays %}
                            {{ pays.name }}
                        {% endfor %}
                    </ul>
                </td>
                <td>{{ produit.price }}</td>

                {% if forms is defined %}

                    {{ form_start(forms[i]) }}

                        <td>{{ form_row(forms[i].item_number) }}</td>

                        <td>{{ form_row(forms[i].send) }}</td>

                    {{ form_end(forms[i]) }}

                {% endif %}

            </tr>

            {% set i = i+1 %}
        {% endfor %}

    </table>

{% endblock %}